(()=>{"use strict";class e{constructor(e,t,n,o){this.item=e,this.dueDate=t,this.priority=n,this.notes=o}}function t(e){localStorage.setItem("mySavedList",JSON.stringify(e))}const n=function(e,t,n){console.log("load home"),o(),i(e,t,n)},o=function(){let e=document.createElement("style");e.innerHTML='\n\t\tbody{\n\t\t\tbackground-image: url("images/november.jpg");\n\t\t\tbackground-repeat: no-repeat;\n\t\t\tbackground-attachment: fixed;\n\t\t\tbackground-size: cover;\n\t\t}\n\t\t',document.head.appendChild(e)},i=function(e,t,n){e.innerHTML="\t\t\n\t\t<h1 class='header'>Getting Stuff Done</h1>\n\t\t",function(){const t=document.createElement("box"),n=document.createElement("table");let o=n.insertRow(0);for(let e=0;e<3;e++){let t=document.createElement("th");t.innerHTML=arguments[e],o.appendChild(t)}n.appendChild(o),t.appendChild(n),e.appendChild(t)}("Item","Due Date","Priority",e),t.length>0?function(e,t,n){t.forEach((n=>function(){document.createElement("box");let n=document.createElement("table").insertRow(0);for(let e=0;e<3;e++){let t=document.createElement("td");console.log(arguments[e]),t.innerHTML=arguments[e],n.appendChild(t)}l(n,t,0,e,arguments[0]),e.appendChild(n)}(n.item,n.dueDate,n.priority)))}(e,t):console.log("no list items")};function l(e,o,i,l,a){const c=document.createElement("button");c.innerHTML="remove",c.value=a,e.appendChild(c),c.addEventListener("click",(()=>{!function(e,o,i,l){for(let t=o.length-1;t>=0;t--)o[t].item===e.value&&o.splice(t,1);o.forEach((e=>e)),t(o),n(l,o)}(c,o,0,l)}))}!function(){const o=document.querySelector("#content"),i=[],l=[];(function(e,t){!function(e){let t;try{t=window[e];let n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}("localStorage")?alert("List can not be saved to device."):localStorage.getItem("mySavedList")?(console.log("retrieve storage"),console.log(e),function(e){JSON.parse(localStorage.getItem("mySavedList")).forEach((t=>e.push(t)))}(e)):(console.log("populate storage"),console.log(t),function(e){localStorage.setItem("mySavedList",e)}(t))})(i,l),n(o,i,l),function(o,i,l){document.querySelector("#tabs").innerHTML="<nav class = 'header'>\n            <ul>\n                <li id = 'new'>Create new item</a></li>\n            </ul>\n        </nav>",document.querySelector("#new").addEventListener("click",(()=>{!function(o,i,l){o.innerHTML="\t\t\n    <div id = 'content'>\n    <div id = 'form'>\n        <label for='item'>Item</label>\n        <input type='text' id='item' class='text-input' name='item' maxlength='200' onfocus='this.value=\" \"'><br>\n        <label for='dueDate'>Due Date</label>\n        <input type='text' id='dueDate' class='text-input' name='dueDate' maxlength='100' onfocus='this.value=\" \"'><br>\n        <label for='priority'>Priority</label>\n        <select id = 'priority' name='priority'>\n            <option value = 'high'>high</option>\n            <option value = 'medium'>medium</option>\n            <option value = 'low'>low</option>\n        </select><br>\n        <label for='notes'>Notes</label><br>\n        <textarea type='text' id='notes' class='text-input' name='notes' maxlength='20000' onfocus='this.value=\" \"'></textarea><br>\n        <div id='button'></div>\n    </div>\n",function(o,i,l){document.querySelector("#button").innerHTML="<nav class = 'button'>\n            <ul>\n                <button id = 'submit'>Submit</a></li>\n            </ul>\n        </nav>",document.querySelector("#submit"),submit.addEventListener("click",(()=>{!function(o,i,l){let a=document.getElementById("item").value,c=document.getElementById("dueDate").value,r=document.getElementById("priority").value,u=document.getElementById("notes").value,d=new e(a,c,r,u);i.push(d),i.forEach((e=>e)),t(i),n(o,i)}(o,i)}))}(o,i)}(o,i)}))}(o,i)}()})();