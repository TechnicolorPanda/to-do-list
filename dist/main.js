(()=>{"use strict";var e=function(e){localStorage.setItem("mySavedList",JSON.stringify(e))},t=function e(t,n,o,i,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=t,this.dueDate=n,this.priority=o,this.completed=r,this.notes=i,this.project=a};function n(t,n,o){if(" "!=t){for(var i=n.length-1;i>=0;i--)if(n[i].item===t){n.splice(i,1);break}n.forEach((function(e){return e})),e(n)}}var o=function(o,r,a,c,u,l){o.innerHTML="\n    <div id = 'content'>\n        <div id = 'form'>\n            <label for='project'>Project</label>\n            <select id = 'project' name='project'>\n            </select><br> \n            <label for='item'>Item</label>\n            <input type='text' id='item' class='text-input' name='item' maxlength='200' value=' '><br>\n            <label for='dueDate'>Due Date</label>\n            <input type='text' id='dueDate' class='text-input' name='dueDate' maxlength='100' value=' '><br>\n            <label for='priority'>Priority</label>\n            <select id = 'priority' name='priority'>\n                <option value = 1>high</option>\n                <option value = 2>medium</option>\n                <option value = 3>low</option>\n            </select><br>\n            <label for='notes'>Notes</label><br>\n            <input type='text' id='notes' class='text-input' name='notes' maxlength='20000' value = ' '></input><br>\n            <div id='button'></div>\n        </div>\n    </div>\n",function(e,t){for(var n=e.length-1;n>=0;n--)e[n].item===t&&(document.getElementById("project").value=e[n].project,document.getElementById("item").value=e[n].item,document.getElementById("dueDate").value=e[n].dueDate,document.getElementById("priority").value=e[n].priority,document.getElementById("notes").value=e[n].notes)}(r,u),function(e){for(var t=document.getElementById("project"),n=0;n<e.length;n++){var o=e[n],i=document.createElement("option");i.textContent=o,i.value=o,t.appendChild(i)}}(c),function(o,r,a,c,u,l){document.querySelector("#button").innerHTML="<nav class = 'button'>\n            <ul>\n                <button id = 'submit'>Submit</a></li>\n            </ul>\n        </nav>\n        ",submit.addEventListener("click",(function(){!function(o,r,a,c,u,l){var d=document.getElementById("item").value,m=document.getElementById("dueDate").value,s=document.getElementById("priority").value,p=document.getElementById("notes").value,v=document.getElementById("project").value,f=new t(d,m,s,p,"no",v);r.push(f),n(u,r),r.forEach((function(e){return a=e})),e(r),i(o,r,a,c)}(o,r,a,c,u)}))}(o,r,a,c,u)},i=function(e,t,n,o){r(),a(e),t.length>0?function(e,t,n,o){for(var i=function(i){document.createElement("box");var r=document.createElement("table"),a=document.createElement("th"),d=r.insertRow(0);a.innerHTML=o[i],d.appendChild(a),e.appendChild(d),t.sort((function(e,t){return e.priority-t.priority})),t.forEach((function(a){return function(){var a=arguments;if(o[i]===arguments[5]){var d=r.insertRow(0);c(d,t,0,arguments[3],arguments[0]);for(var m=0;m<2;m++){var s=document.createElement("td");s.innerHTML=arguments[m],d.appendChild(s),d.addEventListener("dblclick",(function(){l(t,n,e,o,a[0])}))}u(d,t,n,e,arguments[0],o),e.appendChild(d)}}(a.item,a.dueDate,a.priority,a.completed,a.notes,a.project)}))},r=0;r<o.length;r++)i(r)}(e,t,n,o):e.innerHTML="\n      <h1 class='header'>Getting Stuff Done</h1>\n      <h2 class = 'instructions'>You have nothing to do! Create a new item/project or just take a nap.</h2>\n\t\t"},r=function(){var e=document.createElement("style");e.innerHTML="\n\t\tbody{\n\t\t\tbackground-color: white;\n\t\t\tbackground-repeat: no-repeat;\n\t\t\tbackground-attachment: fixed;\n\t\t\tbackground-size: cover;\n\t\t}\n\t\t",document.head.appendChild(e)},a=function(e){e.innerHTML="\t\t\n\t\t<h1 class='header'>Getting Stuff Done</h1>\n\t\t"};function c(t,n,o,i,r){var a=document.createElement("input");a.setAttribute("id","completed"),a.setAttribute("type","checkbox"),a.setAttribute("style","height: 20px; width: 20px; margin-top: 25px;"),"yes"===i?(a.checked=!0,a.value=r,t.appendChild(a)):(a.checked=!1,a.value=r,t.appendChild(a)),a.addEventListener("click",(function(){!function(t,n,o,i){for(var r=n.length-1;r>=0;r--)n[r].item===o.value&&(!1===o.checked?n[r].completed="no":n[r].completed="yes"),n.forEach((function(e){return e})),e(n)}(0,n,a)}),!1)}function u(e,t,o,r,a,c){var u=document.createElement("button");u.value=a,u.id="trashButton",e.appendChild(u),u.addEventListener("click",(function(){!function(e,t,o,r,a){n(e.value,t),i(r,t,o,a)}(u,t,o,r,c)}))}function l(e,t,n,i,r){o(n,e,t,i,r)}var d,m,s,p,v,f=function(e,t,n){e.innerHTML="\t\t\n    <div id = 'content'>\n        <div id = 'form'>\n            <label for='newProject'>Project</label>\n            <input type='text' id='newProject' class='text-input' name='newProject' maxlength='200' onfocus='this.value=\" \"'><br>\n            <div id = 'button'></div>\n        </div>\n    </div>\n",function(e,t,n){document.querySelector("#button").innerHTML="<nav class = 'button'>\n            <ul>\n                <button id = 'create'>Create</a></li>\n            </ul>\n        </nav>\n        ",create.addEventListener("click",(function(){!function(e,t,n){var o=document.getElementById("newProject").value;t.push(o),h(t),f(e,t,n)}(e,t,undefined)}))}(e,t),function(e){var t=document.createElement("box"),n=document.createElement("table"),o=n.insertRow(0),i=document.createElement("th");i.innerHTML="Current Projects",o.appendChild(i),n.appendChild(o),t.appendChild(n),e.appendChild(t)}(e),function(e,t,n){t.forEach((function(o){return function(){document.createElement("box");for(var o=document.createElement("table").insertRow(0),i=0;i<1;i++){var r=document.createElement("td");r.innerHTML=arguments[i],o.appendChild(r)}y(o,t,n,e,arguments[0]),e.appendChild(o)}(o)}))}(e,t,n)};function h(e){localStorage.setItem("mySavedProject",JSON.stringify(e))}function y(e,t,n,o,i){var r=document.createElement("button");r.value=i,r.id="trashButton",e.appendChild(r),r.addEventListener("click",(function(){!function(e,t,n,o){for(var i=t.length-1;i>=0;i--)t[i]===e.value&&t.splice(i,1);t.forEach((function(e){return n=e})),h(t),f(o,t,n)}(r,t,n,o)}))}d=document.querySelector("#content"),function(e,t,n,o){!function(e){var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}("localStorage")?alert("List can not be saved to device."):localStorage.getItem("mySavedList")?function(e,t){var n=JSON.parse(localStorage.getItem("mySavedList")),o=JSON.parse(localStorage.getItem("mySavedProject"));n.forEach((function(t){return e.push(t)})),o.forEach((function(e){return t.push(e)}))}(e,n):function(e,t,n){n.push("Miscellaneous"),localStorage.setItem("mySavedList",e),localStorage.setItem("mySavedProject",t)}(t,o,n)}(m=[],s=[],p=[],v=[]),i(d,m,s,p),function(e,t,r,a,c,u){document.querySelector("#tabs").innerHTML="<nav class = 'header'>\n            <ul>\n                <li id = 'view'>View List</a></li>\n                <li id = 'new'>Create new item</a></li>\n                <li id = 'addProject'>Add New Project</a></li>\n                <li id = 'clear'>Clear Completed Items</a></li>\n            </ul>\n        </nav>";var l=document.querySelector("#new"),d=document.querySelector("#addProject"),m=document.querySelector("#view"),s=document.querySelector("#clear");l.addEventListener("click",(function(){o(e,t,r,a," ")})),d.addEventListener("click",(function(){f(e,a,c)})),m.addEventListener("click",(function(){i(e,t,r,a)})),s.addEventListener("click",(function(){!function(e,t,o,r){for(var a=t.length-1;a>=0;a--)"yes"===t[a].completed&&n(t[a].item,t);i(e,t,o,r)}(e,t,r,a)}))}(d,m,s,p,v)})();